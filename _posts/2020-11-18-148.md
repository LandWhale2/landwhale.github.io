---
title: "Mongodb 데이터 복제"
date : 2020-11-18 22:19:30 -0400
categories: DB
---


# 데이터 복제 

복제는 여러개 DB 에 동일한 데이터를 동기화 하는 과정이다.

즉 여러벌의 동일한 데이터 베이스를 운영하기 위해 필요한 작업이다.


# 필요한 이유 

예상치못한 장애로 부터 데이터를 복구하기 위한 백업이다.

복제를 통해 데이터의 가용성과 만일을 상황을 위한 일종의 백업을 확보할수있다.

또한 필요에 따라 클라이언트가 메인 서버가 아닌 복제 서버에 READ 요청을 하도록 설정할수있다.

이 기능을 통해 메인 서버의 부하를 낮출수도있으며 재해복구 용도로 사용할수있다.

# 복제 방식

## 마스터- 슬레이브

3.2 버전 이전에만 있던 오래된 복제 방식

READ/WRITE 를 담당하는 마스터 노드와 마스터 노드의 운영 로그를 통해 데이터 백업을 수행하는 1개 혹은 복수개의 슬레이브

노드로 이루어져있다.

이 방식은 데이터 백업의 용도가 주 기능이다. 따라서 마스터 노드에 문제가 발생하여 정상적인 수행을 하지못하여도 Auto-failover 기능이

없었기때문에 자동으로 슬레이브노드가 마스터로 승격되지 못하고 수동작업을 통해 가능했다


## Replica Set 복제


복제 세트란 같은 데이터를 저장하고 백업하기위해 여러대의 데이터베이스 서버가 운영이 되고 각각 서버에 유지하는 복수개의 mongod 인스턴스가 모인

추상적인 그룹이라고 할수있다. 쉽게 말하면 주 노드- 보조 노드 묶음이다.


> 출처: https://m.blog.naver.com/sehyunfa/221653690145
